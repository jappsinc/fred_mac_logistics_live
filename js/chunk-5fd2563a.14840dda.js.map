{"version":3,"sources":["webpack:///./src/views/issues/index.vue?6129","webpack:///src/views/issues/index.vue","webpack:///./src/views/issues/index.vue?bd75","webpack:///./src/views/issues/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","key","_v","bestsellersColumns","usersData","x","scopedSlots","_u","fn","text","style","_s","_l","textt","index","name","status","on","$event","closeIssue","url","_e","openIssue","deleteIssue","staticRenderFns","data","bestsellersData","mounted","getAllIssues","methods","$nprogress","start","axios","get","post","component"],"mappings":"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","file":"js/chunk-5fd2563a.14840dda.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-12 col-lg-12\"},[_c('div',[_c('a-tabs',{attrs:{\"defaultActiveKey\":\"1\"}},[_c('a-tab-pane',{key:\"1\",attrs:{\"tab\":\"All Issues\"}},[_c('button',{staticClass:\"btn btn-info pull-right mb-3\"},[_vm._v(\"Create Issue\")]),_c('a-table',{staticClass:\"utils__scrollTable\",attrs:{\"columns\":_vm.bestsellersColumns,\"dataSource\":_vm.usersData,\"scroll\":{ x: '100%' }},scopedSlots:_vm._u([{key:\"status\",fn:function(text){return _c('span',{style:(text === '0' ? 'color: orange' : 'color: red')},[_vm._v(\"\\n                  \"+_vm._s(text === '0' ? 'Open' : text === '1' ? 'Closed' : 'An error here')+\"\\n                \")])}},{key:\"action\",fn:function(text){return _c('span',{},_vm._l((text),function(textt,index){return _c('span',{key:index},[(textt.name === 'Close')?_c('button',{staticClass:\"btn btn-warning \",style:(textt.status === 1 ? 'display: none' : 'display: inline-block'),on:{\"click\":function($event){return _vm.closeIssue(textt.url)}}},[_vm._v(_vm._s(textt.name))]):_vm._e(),(textt.name === 'Open')?_c('button',{staticClass:\"btn btn-success \",style:(textt.status === 0 ? 'display: none' : 'display: inline-block'),on:{\"click\":function($event){return _vm.openIssue(textt.url)}}},[_vm._v(_vm._s(textt.name))]):_vm._e(),(textt.name === 'Delete' )?_c('button',{staticClass:\"btn btn-danger ml-2\",on:{\"click\":function($event){return _vm.deleteIssue(textt.url)}}},[_vm._v(_vm._s(textt.name))]):_vm._e()])}),0)}}])})],1)],1)],1)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card\">\n    <div class=\"card-body\">\n      <div class=\"row\">\n        <div class=\"col-xl-12 col-lg-12\">\n          <div>\n            <a-tabs defaultActiveKey=\"1\">\n              <a-tab-pane tab=\"All Issues\" key=\"1\">\n                <button class=\"btn btn-info pull-right mb-3\">Create Issue</button>\n                <a-table\n                  :columns=\"bestsellersColumns\"\n                  :dataSource=\"usersData\"\n                  class=\"utils__scrollTable\"\n                  :scroll=\"{ x: '100%' }\"\n                >\n                  <span slot=\"status\" slot-scope=\"text\" :style=\" text === '0' ? 'color: orange' : 'color: red' \">\n                    {{text === '0' ? 'Open' : text === '1' ? 'Closed' : 'An error here' }}\n                  </span>\n                  <span slot=\"action\" slot-scope=\"text\">\n                    <span v-for=\"(textt, index) in text\" :key=\"index\">\n                      <button v-if=\"textt.name === 'Close'\" :style=\" textt.status === 1 ? 'display: none' : 'display: inline-block' \" @click=\"closeIssue(textt.url)\" class=\"btn btn-warning \" >{{textt.name}}</button>\n                      <button v-if=\"textt.name === 'Open'\" :style=\" textt.status === 0 ? 'display: none' : 'display: inline-block' \" @click=\"openIssue(textt.url)\" class=\"btn btn-success \" >{{textt.name}}</button>\n                      <button v-if=\"textt.name === 'Delete' \" @click=\"deleteIssue(textt.url)\" class=\"btn btn-danger ml-2\" >{{textt.name}}</button>\n                    </span>\n                  </span>\n\n                </a-table>\n              </a-tab-pane>\n            </a-tabs>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  bestsellersData,\n} from './data.json'\n\nconst bestsellersColumns = [\n  {\n    title: 'ID',\n    dataIndex: 'id',\n    key: 'id',\n    sorter: (a, b) => a.id - b.id,\n  },\n  {\n    title: 'Department',\n    dataIndex: 'issue_type',\n    key: 'issue_type',\n    sorter: (a, b) => a.issue_type - b.issue_type,\n    scopedSlots: { customRender: 'issue_type' },\n  },\n  {\n    title: 'Subject',\n    dataIndex: 'subject',\n    key: 'price',\n    sorter: (a, b) => a.subject - b.subject,\n    scopedSlots: { customRender: 'subject' },\n  },\n  {\n    title: 'Description',\n    dataIndex: 'details',\n    key: 'details',\n  },\n  {\n    title: 'Priority',\n    dataIndex: 'priority_level',\n    key: 'priority_level',\n    sorter: (a, b) => a.priority_level - b.priority_level,\n  },\n  {\n    title: 'Last Updated',\n    dataIndex: 'updated_at',\n    key: 'updated_at',\n    sorter: (a, b) => a.updated_at - b.updated_at,\n  },\n  {\n    title: 'Status',\n    dataIndex: 'status',\n    key: 'status',\n    sorter: (a, b) => a.status - b.status,\n    scopedSlots: { customRender: 'status' },\n  },\n  {\n    title: 'Action',\n    dataIndex: 'action',\n    key: 'action',\n    scopedSlots: { customRender: 'action' },\n  },\n]\n\nexport default {\n  data: function () {\n    return {\n      bestsellersData,\n      bestsellersColumns,\n      usersData: [],\n    }\n  },\n  mounted() {\n    this.getAllIssues()\n  },\n  methods: {\n    deleteIssue(id) {\n      this.$nprogress.start()\n      this.axios.get(`issues/destroy/${id}`)\n        .then(response => {\n          this.$nprogress.done()\n          // console.log(response)\n          if (response.status === 200) {\n            this.$notification['success']({\n              message: 'Issues Data',\n              description: 'You have successfully Deleted an Issue ',\n            })\n\n            const data = this.usersData\n            const query = id\n            // search through the array and get the index array with the passed value\n            const index = data.map(function (img) {\n              return img.id\n            }).indexOf(query)\n            // filter through the data, remove the value we don't want (with index) and return the values we need\n            const filteredItems = data.slice(0, index).concat(data.slice(index + 1, data.length))\n            // replace the data with the returned value\n            this.usersData = filteredItems\n          }\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    },\n    closeIssue(id) {\n      this.$nprogress.start()\n      const requestPayload = {\n        status: 1,\n      }\n      this.axios.post(`issues/change_status/${id}`, requestPayload)\n        .then(response => {\n          this.$nprogress.done()\n          // console.log(response)\n          if (response.status === 200) {\n            this.$notification['success']({\n              message: 'Issues Data',\n              description: 'You have successfully Closed this Issue ',\n            })\n            this.getAllIssues()\n            // this.usersData.splice(this.usersData.indexOf(id), 1)\n          } else {\n            this.$notification['warning']({\n              message: 'Issues Data',\n              description: 'Opps! something went wrong',\n            })\n          }\n        })\n        .catch(error => {\n          // console.log(error)\n          this.$notification['warning']({\n            message: 'Issues Data',\n            description: 'Sorry an error occurred',\n          })\n          return error\n        })\n    },\n    openIssue(id) {\n      this.$nprogress.start()\n      const requestPayload = {\n        status: 0,\n      }\n      this.axios.post(`issues/change_status/${id}`, requestPayload)\n        .then(response => {\n          this.$nprogress.done()\n          // console.log(response)\n          if (response.status === 200) {\n            this.$notification['success']({\n              message: 'Issues Data',\n              description: 'You have successfully Opened this Issue ',\n            })\n            this.getAllIssues()\n            // this.usersData.splice(this.usersData.indexOf(id), 1)\n          } else {\n            this.$notification['warning']({\n              message: 'Issues Data',\n              description: 'Opps! something went wrong',\n            })\n          }\n        })\n        .catch(error => {\n          // console.log(error)\n          this.$notification['warning']({\n            message: 'Issues Data',\n            description: 'Sorry an error occurred',\n          })\n          return error\n        })\n    },\n    getAllIssues() {\n      this.axios.get('issues/all')\n        .then(response => {\n          // console.log('issues', response.data.data.issues)\n          const dt = response.data.data.issues\n          const data = []\n          for (let i = 0; i < dt.length; i++) {\n            const userData = {\n              details: dt[i].details,\n              issue_type: dt[i].issue_type,\n              priority_level: dt[i].priority_level,\n              subject: dt[i].subject,\n              updated_at: dt[i].updated_at,\n              status: dt[i].status,\n              id: dt[i].id,\n              key: dt[i].id,\n              action: {\n                1: {\n                  name: 'Open',\n                  url: dt[i].id,\n                  status: parseInt(dt[i].status, 10),\n                },\n                2: {\n                  name: 'Close',\n                  url: dt[i].id,\n                  status: parseInt(dt[i].status, 10),\n                },\n                3: {\n                  name: 'Delete',\n                  url: dt[i].id,\n                },\n              },\n            }\n            data.push(userData)\n          }\n          this.usersData = data\n        })\n        .catch(error => {\n          console.log(error)\n        })\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7dc7ea8d&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}